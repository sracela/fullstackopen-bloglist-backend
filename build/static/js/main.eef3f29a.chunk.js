(this["webpackJsonpbloglist-frontend"]=this["webpackJsonpbloglist-frontend"]||[]).push([[0],{101:function(e,t,a){e.exports=a(197)},196:function(e,t,a){},197:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(28),l=a.n(c),i=a(10),o=a(19),u=a(7),s=a.n(u),m=a(11),d=a(4),p=a(6),g=a(39),f=a(35),E=a(32),h=a.n(E);function b(){var e=JSON.parse(window.localStorage.getItem("user"));return e&&e.token?{Authorization:"Bearer "+e.token}:{}}var v,w="/api/blogs",O=function(){var e=Object(m.a)(s.a.mark((function e(){var t;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.a.get(w);case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),x=function(){var e=Object(m.a)(s.a.mark((function e(t){var a,n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={headers:b()},e.next=3,h.a.post(w,t,a);case 3:return n=e.sent,e.abrupt("return",n.data);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),y=function(){var e=Object(m.a)(s.a.mark((function e(t,a){var n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.a.put("".concat(w,"/").concat(t),a);case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),j=function(){var e=Object(m.a)(s.a.mark((function e(t,a){var n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.a.post("".concat(w,"/").concat(t,"/comments"),a);case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),k={getAll:O,create:x,update:y,remove:function(){var e=Object(m.a)(s.a.mark((function e(t){var a,n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={headers:b()},e.next=3,h.a.delete("".concat(w,"/").concat(t),a);case 3:return n=e.sent,e.abrupt("return",n.data);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),comment:j},T=function(e){return function(){var t=Object(m.a)(s.a.mark((function t(a){var n;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,k.create(e);case 3:return n=t.sent,a({type:"NEW_BLOG",data:n}),t.abrupt("return",Promise.resolve());case 8:return t.prev=8,t.t0=t.catch(0),t.abrupt("return",Promise.reject());case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}()},I=function(e){return function(){var t=Object(m.a)(s.a.mark((function t(a){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,k.update(e.id,Object(g.a)({},e,{likes:e.likes+1}));case 3:return a({type:"LIKE_BLOG",data:e}),t.abrupt("return",Promise.resolve());case 7:return t.prev=7,t.t0=t.catch(0),t.abrupt("return",Promise.reject());case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()},C=function(e){return function(){var t=Object(m.a)(s.a.mark((function t(a){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,k.remove(e.id);case 3:return a({type:"REMOVE_BLOG",data:e}),t.abrupt("return",Promise.resolve());case 7:return t.prev=7,t.t0=t.catch(0),t.abrupt("return",Promise.reject());case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()},L=function(e){var t=e.id,a=e.comment;return(function(){var e=Object(m.a)(s.a.mark((function e(n){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,k.comment(t,a);case 3:return n({type:"COMMENT_BLOG",data:{id:t,comment:a}}),e.abrupt("return",Promise.resolve());case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",Promise.reject());case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}())},S=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"NEW_BLOG":return[].concat(Object(f.a)(e),[t.data]);case"INIT_BLOGS":return t.data;case"LIKE_BLOG":var a=t.data.id,n=e.find((function(e){return e.id===a})),r=Object(g.a)({},n,{likes:n.likes+1});return e.map((function(e){return e.id!==a?e:r}));case"REMOVE_BLOG":var c=t.data.id;return e.filter((function(e){return e.id!==c}));case"COMMENT_BLOG":var l=t.data.id,i=e.find((function(e){return e.id===l})),o=Object(g.a)({},i,{comments:i.comments?[].concat(Object(f.a)(i.comments),[t.data.comment]):[t.data.comment]});return e.map((function(e){return e.id!==l?e:o}));default:return e}},A=function(e,t,a){return clearTimeout(v),function(){var n=Object(m.a)(s.a.mark((function n(r){return s.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:r({type:"SET_NOTIFICATION",notification:{message:e,iserror:t}}),v=setTimeout((function(){return r({type:"DELETE_NOTIFICATION"})}),1e3*a);case 2:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()},N=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"NONE",t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_NOTIFICATION":return t.notification;case"DELETE_NOTIFICATION":return"NONE";default:return e}},D=function(e){var t=Object(n.useState)(""),a=Object(p.a)(t,2),r=a[0],c=a[1];return{type:e,value:r,reset:function(){c("")},onChange:function(e){c(e.target.value)}}},B=a(60),G=a(243),_=a(239),z=a(89),R=function(){var e=Object(i.b)(),t=Object(i.c)((function(e){return e.auth})).user,a=Object(n.useState)(!1),c=Object(p.a)(a,2),l=c[0],o=c[1],u=D("text"),g=u.reset,f=Object(d.a)(u,["reset"]),E=D("text"),h=E.reset,b=Object(d.a)(E,["reset"]),v=D("text"),w=v.reset,O=Object(d.a)(v,["reset"]),x=function(){return g(h(w()))};Object(n.useEffect)(x,[l]);var y=function(){var a=Object(m.a)(s.a.mark((function a(n){var r;return s.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return console.log("\ud83d\ude80 ~ file: BlogForm.js ~ line 23 ~ addBlog ~ event",n),r={title:f.value,author:b.value,url:O.value,user:t},a.prev=2,a.next=5,e(T(r));case 5:e(A('New blog "'.concat(r.title,'" created'),!1,3)),x(),o(!1),a.next=15;break;case 10:a.prev=10,a.t0=a.catch(2),e(A("Error creating new blog",!0,3)),x(),o(!1);case 15:case"end":return a.stop()}}),a,null,[[2,10]])})));return function(e){return a.apply(this,arguments)}}();return r.a.createElement(B.a,null,r.a.createElement(G.a,{isShown:l,title:"New Blog",onCloseComplete:y,confirmLabel:"ADD BLOG"},r.a.createElement("form",null,r.a.createElement(_.a,Object.assign({label:"Title",placeholder:"The best blog ever"},f)),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement(_.a,Object.assign({label:"Author",placeholder:"The best writer ever"},b)),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement(_.a,Object.assign({label:"URL",placeholder:"fantasti.co"},O)),r.a.createElement("br",null),r.a.createElement("br",null))),r.a.createElement(B.a,{width:"100%",padding:32,position:"relative"},r.a.createElement(z.a,{position:"absolute",right:"0%",bottom:16,intent:"warning",appearance:"primary",onClick:function(){return o(!0)}},"CREATE NEW BLOG")))},U=a(219),P=a(213),W=a(212),F=a(244),X=a(40),Y=a(221),H=a(95),M=a(64),V=a(14),J=function(e){var t=e.blog,a=Object(V.g)();return r.a.createElement(U.a,{key:t.id,gridArea:"span 1 / span 1",background:"white",elevation:3,hoverElevation:4,activeElevation:4,padding:24,width:274,minHeight:230,display:"flex",flexDirection:"column",justifyContent:"space-between",position:"relative",cursor:"pointer",onClick:function(){return a.push("/blogs/".concat(t.id))}},r.a.createElement(B.a,{height:102,display:"flex",flexDirection:"column",justifyContent:"space-between"},r.a.createElement(P.a,{is:"h4",size:600},t.title),r.a.createElement(W.a,{color:"muted",marginTop:8},"Created by: ",t.author)),r.a.createElement(B.a,{height:18,display:"flex",justifyContent:"flex-start",alignItems:"center"},t.user&&r.a.createElement(r.a.Fragment,null,r.a.createElement(o.b,{style:{textDecoration:"none"},to:"/users/".concat(t.user.id)},r.a.createElement(F.a,{name:t.user.username,size:30})),r.a.createElement(o.b,{style:{textDecoration:"none"},to:"/users/".concat(t.user.id)},r.a.createElement(X.a,{color:"info",marginLeft:8},r.a.createElement(Y.a,{textTransform:"uppercase"},t.user.username))))),r.a.createElement(X.a,{color:"dark",marginLeft:8,alignSelf:"end",position:"absolute",right:"0%",bottom:"0%",padding:24},r.a.createElement(H.a,null,t.likes," likes")))},K=function(){var e=Object(i.c)((function(e){return e.blogs})),t=Object(i.c)((function(e){return e.users}));return r.a.createElement(B.a,{padding:8,display:"flex",flexDirection:"column",height:"100%",maxWidth:"1000px",overflowY:"hidden",overflowX:"hidden"},r.a.createElement(B.a,{display:"flex",justifyContent:"space-between",alignItems:"center"},r.a.createElement(B.a,null,r.a.createElement(P.a,{size:700},"All Blogs"),r.a.createElement(P.a,{size:100,marginTop:"default"},t.length," USERS")),r.a.createElement(B.a,{marginTop:"20px"},r.a.createElement(W.a,null,e.length," Total Blogs"),r.a.createElement(W.a,{marginTop:"default",marginBottom:"default"},r.a.createElement(o.b,{style:{textDecoration:"none"},to:"/users"},r.a.createElement(M.a,{color:"red"},"VIEW USERS"))))),r.a.createElement(B.a,{backgroundColor:"#E4E7EB",height:"0.25px"}),r.a.createElement(B.a,{marginY:32,width:"100%"},r.a.createElement(R,null)),r.a.createElement(B.a,{display:"grid",height:"100%",gridTemplateColumns:"repeat(".concat(e.length,", 30%)"),gridTemplateRows:"repeat(2, 50%)",gridAutoColumns:"15%",gridAutoFlow:"column",listStyle:"none",alignItems:"start",overflowX:"auto"},e.sort((function(e,t){return t.likes-e.likes})).map((function(e){return r.a.createElement(J,{key:e.id,blog:e})}))))},q=a(53),Q=a(222),Z=a(223),$=a(199),ee=a(238),te=a(241),ae=a(225),ne=a(242),re=a(227),ce="NONE",le="ASC",ie="DESC",oe=function(e){switch(e){case le:return Q.a;case ie:return Z.a;default:return $.a}},ue=function(){var e=Object(n.useState)(""),t=Object(p.a)(e,2),a=t[0],c=t[1],l=Object(n.useState)(ce),o=Object(p.a)(l,2),u=o[0],s=o[1],m=Object(V.g)(),d=Object(i.c)((function(e){return e.users})),g=function(e){return u===ce?e:e.sort((function(e,t){var a=e.blogs.length,n=t.blogs.length,r={true:1,false:-1};return u===le?a===n?0:r[a>n]:n===a?0:r[n>a]}))}(function(e){return""===a?e:e.filter((function(e){return 1===Object(q.filter)([e.name],a.trim()).length}))}(d));return r.a.createElement(B.a,{padding:8,display:"flex",flexDirection:"column"},r.a.createElement(B.a,{display:"flex",justifyContent:"space-between",alignItems:"center"},r.a.createElement(B.a,null,r.a.createElement(P.a,{size:700},"All Users"),r.a.createElement(P.a,{size:100,marginTop:"default"},"Click on User's Row in order to see it in more detail")),r.a.createElement(B.a,{marginTop:"20px"},r.a.createElement(W.a,null,d.length," Total Users"))),r.a.createElement(B.a,null,r.a.createElement(ee.a,{marginY:32,background:"white",elevation:3},r.a.createElement(ee.a.Head,{paddingY:32},r.a.createElement(ee.a.SearchHeaderCell,{onChange:function(e){return c(e)},value:a}),r.a.createElement(ee.a.TextHeaderCell,null,"ID"),r.a.createElement(ee.a.TextHeaderCell,null,"Username"),r.a.createElement(ee.a.TextHeaderCell,null,r.a.createElement(te.a,{position:ae.a.BOTTOM_LEFT,content:function(e){var t=e.close;return r.a.createElement(ne.a,null,r.a.createElement(ne.a.OptionsGroup,{title:"Order",options:[{label:"Ascending",value:le},{label:"Descending",value:ie}],selected:u,onChange:function(e){s(e),t()}}))}},r.a.createElement(re.a,{icon:oe(u)},"Added blogs")))),r.a.createElement(ee.a.Body,null,g.map((function(e,t){return r.a.createElement(ee.a.Row,{key:e.id,isSelectable:!0,onSelect:function(){return m.push("/users/".concat(e.id))}},r.a.createElement(ee.a.Cell,{display:"flex",alignItems:"center"},r.a.createElement(F.a,{name:e.name}),r.a.createElement(X.a,{marginLeft:8,size:300,fontWeight:500},e.name)),r.a.createElement(ee.a.TextCell,null,e.id),r.a.createElement(ee.a.TextCell,null,e.username),r.a.createElement(ee.a.TextCell,{isNumber:!0},e.blogs.length))}))))))},se=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_TOGGLABLE":return{id:t.id,visibility:!1};case"SET_VISIBLE":return e.id!==t.id?e:Object.assign({},e,{visibility:!e.visibility});default:return e}},me=function(e){return{type:"SET_VISIBLE",id:e}},de=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_TOGGLABLE":return[].concat(Object(f.a)(e),[se(void 0,t)]);case"SET_VISIBLE":return e.map((function(e){return se(e,t)}));default:return e}},pe=a(215),ge=function(e){var t,a=Object(i.b)(),c=null===(t=Object(i.c)((function(t){return t.togglables.find((function(t){return t.id===e.id}))})))||void 0===t?void 0:t.visibility,l={display:c?"none":""},o={display:c?"":"none"};return Object(n.useEffect)((function(){a({type:"ADD_TOGGLABLE",id:e.id})}),[a,e.id]),r.a.createElement(B.a,{position:"relative",width:"100%"},r.a.createElement(B.a,{style:l},r.a.createElement(z.a,{margin:8,onClick:function(){return a(me(e.id))}},e.buttonLabel)),r.a.createElement(B.a,{style:o,className:"togglableContent"},r.a.createElement(B.a,{position:"absolute",width:"100%",margin:8},e.children),r.a.createElement(z.a,{position:"absolute",top:"10%",left:"0%",onClick:function(){return a(me(e.id))},iconAfter:r.a.createElement(pe.a,null)},"CLOSE")))};ge.displayName="Togglable";var fe=ge,Ee=a(228),he=function(e){var t=e.blogId,a=e.comments,n=Object(i.b)(),c=D("text"),l=c.reset,o=Object(d.a)(c,["reset"]),u=function(){var e=Object(m.a)(s.a.mark((function e(a){var r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a.preventDefault(),r={id:t,comment:o.value};try{n(L(r)),n(A('New coment "'.concat(r.comment,'" added'),!1,3)),l()}catch(c){n(A("Error commenting the blog!",!0,3))}case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement(B.a,{width:"100%"},r.a.createElement(P.a,{size:600},"Comments (",a.length,")"),r.a.createElement("form",{onSubmit:u},r.a.createElement(B.a,{display:"flex",width:"100%",marginTop:16},r.a.createElement(_.a,Object.assign({width:"75%",placeholder:"Type your comment"},o)),r.a.createElement(z.a,{type:"submit",appearance:"primary",height:30,iconAfter:Ee.a,marginLeft:8,marginTop:4},"ADD"))),r.a.createElement(fe,{buttonLabel:"Show comments",id:"comments"},r.a.createElement(B.a,{width:"100%",marginTop:8,display:"grid",height:"100%",gridTemplateColumns:"repeat(".concat(a.length,", 30%)"),gridTemplateRows:"repeat(1, 10%)",gridAutoColumns:"15%",gridAutoFlow:"column",listStyle:"none",alignItems:"start",overflowX:"auto"},0!==a.length?a.map((function(e,t){return r.a.createElement(U.a,{marginY:8,marginX:32,minWidth:"200px",minHeight:"50px",elevation:3,padding:0,background:"white",key:"comment_".concat(t),display:"flex"},r.a.createElement(B.a,{width:"5px",background:"purple",height:"100%"}),r.a.createElement(B.a,{margin:8},r.a.createElement(P.a,{as:"h5",size:400},"Comment ",t),r.a.createElement(W.a,null,e)))})):r.a.createElement(U.a,null,r.a.createElement(W.a,null,"no comments for this blog")))))},be=a(229),ve=a(230),we=a(231),Oe=function(e){var t=e.blog,a=Object(i.b)();if(!t)return r.a.createElement(U.a,{elevation:3,margin:"auto",background:"white",width:500,height:500,display:"grid",placeItems:"center"},r.a.createElement(P.a,{size:100,textAlign:"center"},"no data"));var n;return r.a.createElement(B.a,{padding:8,display:"flex",flexDirection:"column",id:t.id},r.a.createElement(U.a,{elevation:3,margin:"auto",background:"white",textAlign:"center",height:500,position:"relative"},r.a.createElement(B.a,{borderRadius:4,height:500,overflow:"hidden"},r.a.createElement("img",{src:"../calm.jpg",width:"100%",height:"100%",alt:"Blog"})),r.a.createElement(U.a,{elevation:3,margin:"auto",background:"white",textAlign:"center",height:250,width:"90%",position:"absolute",top:"45%",right:"5%",hoverElevation:4,display:"flex",flexDirection:"column",alignItems:"flex-start",justifyContent:"space-between",padding:16},r.a.createElement(B.a,{textAlign:"left"},r.a.createElement(M.a,{color:"purple"},"Coding"),r.a.createElement(P.a,{is:"h3",size:700,marginTop:8},t.title)),r.a.createElement(B.a,{alignSelf:"center"},r.a.createElement(P.a,{size:100,color:"red"},r.a.createElement(be.a,{display:"inline-flex",margin:8,color:"red",isSolid:!0},t.likes),"LIKES")),r.a.createElement(B.a,{textAlign:"center",display:"flex",justifyContent:"space-around",marginX:"auto",width:"100%"},r.a.createElement(B.a,null,r.a.createElement(W.a,{size:400,color:"muted"},"Created by:"),r.a.createElement(W.a,null,r.a.createElement(H.a,null,t.author))),r.a.createElement(B.a,null,r.a.createElement(W.a,{size:400,color:"muted"},"It can be visited at"),r.a.createElement(W.a,null,r.a.createElement(H.a,null,t.url)))),r.a.createElement(B.a,{width:"100%",display:"flex",justifyContent:"center"},r.a.createElement(M.a,{height:32,width:32,padding:8,borderRadius:"100%",color:"red",cursor:"pointer",onClick:(n=t,Object(m.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,a(I(n));case 3:a(A("Like!",!1,3)),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),a(A("Error liking the blog!",!0,3));case 9:case"end":return e.stop()}}),e,null,[[0,6]])}))))},r.a.createElement(ve.a,null)),r.a.createElement(M.a,{height:32,width:32,padding:8,marginLeft:8,borderRadius:"100%",cursor:"pointer",color:"blue",onClick:function(e){return Object(m.a)(s.a.mark((function t(){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!window.confirm("Do you really want to remove ".concat(e.title,"?"))){t.next=10;break}return t.prev=1,t.next=4,a(C(e));case 4:a(A("Remove!",!1,3)),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(1),a(A("Error removing the blog!",!0,3));case 10:case"end":return t.stop()}}),t,null,[[1,7]])})))}(t)},r.a.createElement(we.a,null))),r.a.createElement(B.a,{color:"dark",marginLeft:8,alignSelf:"end",position:"absolute",right:"0%",top:"0%",padding:16,display:"flex",justifyContent:"flex-start",alignItems:"center"},t.user&&r.a.createElement(r.a.Fragment,null,r.a.createElement(o.b,{style:{textDecoration:"none"},to:"/users/".concat(t.user.id)},r.a.createElement(F.a,{name:t.user.username,size:36})))))),r.a.createElement(B.a,{marginTop:32},r.a.createElement(he,{blogId:t.id,comments:t.comments})))},xe=a(232),ye=function(){var e=Object(i.c)((function(e){return e.users})),t=Object(i.c)((function(e){return e.blogs})),a=Object(V.h)().id,n=e.find((function(e){return e.id===a.toString()}));if(console.log("\ud83d\ude80 ~ file: User.js ~ line 21 ~ User ~ user",n),!n)return r.a.createElement(U.a,{elevation:3,margin:"auto",background:"white",width:500,height:500,display:"grid",placeItems:"center"},r.a.createElement(P.a,{size:100,textAlign:"center"},"no data"));var c=n.blogs.reduce((function(e,a){return e+t.find((function(e){return e.id===a.id})).likes}),0),l=n.blogs.reduce((function(e,a){return e+t.find((function(e){return e.id===a.id})).comments.length}),0);return r.a.createElement(B.a,{padding:8,display:"flex",flexDirection:"column",height:"100%",maxWidth:"1000px",overflowY:"hidden",overflowX:"hidden"},r.a.createElement(U.a,{elevation:3,marginX:"auto",background:"white",textAlign:"center",width:500,height:380,padding:32,display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"flex-start",position:"relative",marginBottom:32},r.a.createElement(F.a,{name:null===n||void 0===n?void 0:n.name,size:100}),r.a.createElement(B.a,{alignSelf:"center"},r.a.createElement(P.a,{size:600,marginTop:"default"},n.name),r.a.createElement(X.a,{color:"muted"},"Blog Creator"),r.a.createElement(B.a,{marginTop:32,display:"flex",justifyContent:"space-between",left:"10%",position:"absolute",width:"80%"},r.a.createElement(B.a,{display:"flex",flexDirection:"column"},r.a.createElement(M.a,{height:32,width:32,padding:8,borderRadius:"100%",color:"red"},r.a.createElement(ve.a,null)),r.a.createElement(X.a,null,r.a.createElement(H.a,null,c))),r.a.createElement(B.a,{display:"flex",flexDirection:"column"},r.a.createElement(M.a,{height:32,width:32,padding:8,borderRadius:"100%",color:"blue"},r.a.createElement(xe.a,null)),r.a.createElement(X.a,null,r.a.createElement(H.a,null,l)))))),r.a.createElement(P.a,{marginY:32,size:700},"Added blogs"),r.a.createElement(B.a,{display:"grid",height:"400px",gridTemplateColumns:"repeat(".concat(t.length,", 30%)"),gridTemplateRows:"repeat(1, 10%)",gridAutoColumns:"15%",gridAutoFlow:"column",listStyle:"none",alignItems:"start",overflowX:"auto"},t.sort((function(e,t){return t.likes-e.likes})).map((function(e){return r.a.createElement(J,{key:e.id,blog:e})}))))},je={getAll:function(){var e=Object(m.a)(s.a.mark((function e(){var t;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.a.get("api/users");case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},ke=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"INIT_USERS":return t.data;default:return e}},Te={login:function(){var e=Object(m.a)(s.a.mark((function e(t){var a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.a.post("/api/login",t);case 2:return(a=e.sent).data.token&&window.localStorage.setItem("user",JSON.stringify(a.data)),e.abrupt("return",a.data);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),logout:function(){window.localStorage.removeItem("user")}},Ie=JSON.parse(window.localStorage.getItem("user")),Ce=Ie?{isLoggedIn:!0,user:Ie}:{isLoggedIn:!1,user:null},Le=function(e){var t=e.username,a=e.password;return(function(){var e=Object(m.a)(s.a.mark((function e(n){var r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Te.login({username:t,password:a});case 3:return r=e.sent,n({type:"LOGIN_SUCCESS",payload:{user:r}}),e.abrupt("return",Promise.resolve());case 8:return e.prev=8,e.t0=e.catch(0),n({type:"LOGIN_FAIL"}),e.abrupt("return",Promise.reject());case 12:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}())},Se=function(){var e=Object(V.g)(),t=Object(i.b)(),a=D("text"),n=a.reset,c=Object(d.a)(a,["reset"]),l=D("password"),o=l.reset,u=Object(d.a)(l,["reset"]),p=function(){var a=Object(m.a)(s.a.mark((function a(r){return s.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return r.preventDefault(),a.prev=1,a.next=4,t(Le({username:c.value,password:u.value}));case 4:e.push("/"),n(o()),t(A("Succesfuly login",!1,3)),a.next=12;break;case 9:a.prev=9,a.t0=a.catch(1),t(A("Wrong credentials",!0,3));case 12:case"end":return a.stop()}}),a,null,[[1,9]])})));return function(e){return a.apply(this,arguments)}}();return r.a.createElement(U.a,{elevation:3,margin:"auto",background:"white",textAlign:"center",width:500},r.a.createElement(B.a,null," ",r.a.createElement("img",{src:"welcome.jpg",width:"100%",alt:"Welcome!"})),r.a.createElement(B.a,{padding:32},r.a.createElement(P.a,{size:900}," Log-in!"),r.a.createElement(W.a,{marginTop:"default"},"You are a click aside of seeing a lot of hilarious blogs from our users")),r.a.createElement(B.a,{background:"purpleTint",padding:32,width:"100%",position:"relative",textAlign:"left"},r.a.createElement("form",{onSubmit:p},r.a.createElement(_.a,Object.assign({label:"Username",placeholder:"i.e. supersara"},c)),r.a.createElement(_.a,Object.assign({label:"Password",placeholder:"i.e. supersara"},u)),r.a.createElement(z.a,{type:"submit",appearance:"primary",height:40,iconAfter:Ee.a,position:"absolute",right:"0%",marginRight:32,marginBottom:32},"LOG IN"),r.a.createElement("br",null),r.a.createElement("br",null))))},Ae=function(e){var t=e.currentUser;return r.a.createElement(B.a,{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"},r.a.createElement(F.a,{name:t.name,size:120}),r.a.createElement(B.a,{alignSelf:"flex-start",marginLeft:16},r.a.createElement(P.a,{size:600,marginTop:"default"},t.name),r.a.createElement(X.a,{color:"muted"},"Lead Designer"),r.a.createElement(B.a,{marginTop:8},r.a.createElement(M.a,{color:"green"},"ONLINE"))))},Ne=a(233),De=a(234),Be=a(235),Ge=a(236),_e=a(237),ze=function(){var e=Object(i.b)(),t=Object(i.c)((function(e){return e.auth})),a=t.isLoggedIn,n=t.user;return r.a.createElement("nav",null,r.a.createElement(B.a,{display:"grid",gridTemplateRows:"1fr 3fr 4fr 1fr",width:"25vw",height:"100%",paddingX:32,paddingY:32},r.a.createElement(P.a,{size:700,is:"h1",cursor:"pointer",padding:0},"Blog Application"),r.a.createElement(B.a,{height:200},a&&r.a.createElement(Ae,{currentUser:n})),r.a.createElement(ne.a,null,r.a.createElement(ne.a.Group,null,r.a.createElement(o.b,{style:{textDecoration:"none"},to:"/"},r.a.createElement(ne.a.Item,{icon:Ne.a},"Home")),r.a.createElement(o.b,{style:{textDecoration:"none"},to:"/blogs"},r.a.createElement(ne.a.Item,{icon:De.a},"Blogs")),r.a.createElement(o.b,{style:{textDecoration:"none"},to:"/users"},r.a.createElement(ne.a.Item,{icon:Be.a},"Users"))),r.a.createElement(B.a,{height:200})),r.a.createElement(ne.a.Group,null,a?r.a.createElement(ne.a.Item,{onClick:function(){e((function(e){Te.logout(),e({type:"LOGOUT"})}))},icon:Ge.a},"LOG OUT"):r.a.createElement(o.b,{style:{textDecoration:"none"},to:"/login"},r.a.createElement(ne.a.Item,{icon:_e.a},"LOG IN")))))},Re=a(93),Ue=function(){var e=Object(i.c)((function(e){return e.notification}));if("NONE"===e)return null;return r.a.createElement("div",{style:{position:"fixed",top:"10px",right:"0%",padding:10,zIndex:1e3,maxWidth:"50%"}},r.a.createElement(Re.a,{appearance:"card",intent:e.iserror?"danger":"success",title:e.message,marginBottom:32}))},Pe=function(e){var t=e.greeting;return r.a.createElement(U.a,{elevation:3,margin:"auto",background:"white",textAlign:"center",width:600},r.a.createElement(B.a,null," ",r.a.createElement("img",{src:"welcome.jpg",width:"100%",alt:"Welcome!"})),r.a.createElement(B.a,{padding:32},r.a.createElement(P.a,{size:900}," Welcome to your Blog Application"),r.a.createElement(W.a,{marginTop:"default"},t)))},We=function(){var e=Object(i.b)(),t=Object(i.c)((function(e){return e.auth})).isLoggedIn,a=Object(i.c)((function(e){return e.blogs})),c=Object(i.c)((function(e){return e.users})),l=Object(V.i)("/blogs/:id"),o=l?a.find((function(e){return e.id===l.params.id.toString()})):null,u=Object(V.i)("/users/:id"),d=u?c.find((function(e){return e.id===u.params.id.toString()})):null;return Object(n.useEffect)((function(){try{e(function(){var e=Object(m.a)(s.a.mark((function e(t){var a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,k.getAll();case 3:return a=e.sent,t({type:"INIT_BLOGS",data:a}),e.abrupt("return",Promise.resolve());case 8:return e.prev=8,e.t0=e.catch(0),e.abrupt("return",Promise.reject());case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}()),e(function(){var e=Object(m.a)(s.a.mark((function e(t){var a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,je.getAll();case 3:return a=e.sent,t({type:"INIT_USERS",data:a}),e.abrupt("return",Promise.resolve());case 8:return e.prev=8,e.t0=e.catch(0),e.abrupt("return",Promise.reject());case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}())}catch(t){console.log("problem loading blogs or users")}}),[e]),r.a.createElement(B.a,{display:"flex",width:"100%",height:"100%"},r.a.createElement(ze,null),r.a.createElement(B.a,{display:"flex",flexDirection:"column",background:"purpleTint",width:"100%",height:"100%",paddingX:48,paddingY:32},r.a.createElement(Ue,null),r.a.createElement(V.d,null,r.a.createElement(V.b,{path:"/users/:id",render:function(){return t?r.a.createElement(ye,{user:d}):r.a.createElement(V.a,{to:"/login"})}}),r.a.createElement(V.b,{path:"/blogs/:id",render:function(){return t?r.a.createElement(Oe,{blog:o}):r.a.createElement(V.a,{to:"/login"})}}),r.a.createElement(V.b,{path:"/users",render:function(){return t?r.a.createElement(ue,null):r.a.createElement(V.a,{to:"/login"})}}),r.a.createElement(V.b,{path:"/blogs",render:function(){return t?r.a.createElement(K,null):r.a.createElement(V.a,{to:"/login"})}}),r.a.createElement(V.b,{path:"/login"},r.a.createElement(Se,null)),r.a.createElement(V.b,{path:"/"},r.a.createElement(Pe,{greeting:t?"Click on blogs in the navigation bar to see available blogs":"Please Log in to see posted Blogs"})))))},Fe=(a(196),a(41)),Xe=a(91),Ye=a(92),He=Object(Fe.combineReducers)({auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ce,t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.payload;switch(a){case"LOGIN_SUCCESS":return Object(g.a)({},e,{isLoggedIn:!0,user:n.user});case"LOGIN_FAIL":case"LOGOUT":return Object(g.a)({},e,{isLoggedIn:!1,user:null});default:return e}},blogs:S,togglables:de,notification:N,users:ke}),Me=Object(Fe.createStore)(He,Object(Xe.composeWithDevTools)(Object(Fe.applyMiddleware)(Ye.a)));l.a.render(r.a.createElement(i.a,{store:Me},r.a.createElement(o.a,null,r.a.createElement(B.a,{width:"100%",height:"100vh"},r.a.createElement(We,null)))),document.getElementById("root"))}},[[101,1,2]]]);
//# sourceMappingURL=main.eef3f29a.chunk.js.map